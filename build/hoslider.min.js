/*!
 * hoslider.js@0.0.1 hexson 2016-10-11
 */
!function(a){"use strict";function b(c,d){if(!(this instanceof b))return new b(c,d);var e={direction:"horizontal",partition:0,duration:300,loop:!1,touchEndCallback:function(){},endCallback:function(){}};d=d||{};var f={};for(var g in d)f[g]=d[g];for(var h in e)"undefined"==typeof d[h]&&(f[h]=e[h]);var i=this;i.extendConfig=f;var j={touch:"ontouchstart"in a||a.DocumentTouch&&document instanceof DocumentTouch,elem:document.getElementById(c),events:{elem:document.getElementById(c),handleEvent:function(a){var b=this;"touchstart"==a.type?b.start(a):"touchmove"==a.type?b.move(a):"touchend"==a.type&&b.end(a)},start:function(a){var b=a.targetTouches[0];this.startOb={x:b.pageX,y:b.pageY,t:+new Date,s:0},this.elem.addEventListener("touchmove",this,!1),this.elem.addEventListener("touchend",this,!1)},move:function(a){if(!(a.targetTouches.length>1||a.scale&&1!==a.scale)){var b=a.targetTouches[0];if(this.endOb={x:b.pageX-this.startOb.x,y:b.pageY-this.startOb.y},this.startOb.s=Math.abs(this.endOb.x)<Math.abs(this.endOb.y)?1:0,0===this.startOb.s){a.preventDefault(),this.elem.style.transitionDuration="0ms";var c=j.X+this.endOb.x;0==j.X&&this.endOb.x>0&&(c-=.95*this.endOb.x,c=Math.abs(c)>=parseInt(j.iW[0]/2)?parseInt(j.iW[0]/2)-1:c),j.X<0&&c>=0&&(c=this.endOb.x-.95*this.endOb.x),j.totalWidth>j.conWidth&&c<=-j.totalWidth+j.conWidth&&(c=-j.totalWidth+j.conWidth+-(Math.abs(this.endOb.x)-.95*Math.abs(this.endOb.x))),j.totalWidth<=j.conWidth&&c<0&&(c=0-(Math.abs(this.endOb.x)-.95*Math.abs(this.endOb.x))),this.elem.style.transform="translate3d("+c+"px,0,0)",this.endX=c}}},end:function(a){var b=+new Date-this.startOb.t,c=j.position(this.endX);0===this.startOb.s&&parseInt(b)>10&&(this.elem.style.transitionDuration=i.extendConfig.duration/1e3+"s",this.endOb&&(j.totalWidth>j.conWidth&&c<-j.totalWidth+j.conWidth?(c=-(j.totalWidth-j.conWidth),this.elem.style.transform="translate3d("+c+"px,0,0)","function"==typeof i.extendConfig.endCallback&&i.extendConfig.endCallback()):j.totalWidth<=j.conWidth?(c=0,this.elem.style.transform="translate3d("+c+"px,0,0)"):j.totalWidth-j.conWidth-Math.abs(c)<=j.iW[j.iW.length-1]&&c>this.endX?(c=-(j.totalWidth-j.conWidth),this.elem.style.transform="translate3d("+c+"px,0,0)","function"==typeof i.extendConfig.endCallback&&i.extendConfig.endCallback()):this.elem.style.transform="translate3d("+c+"px,0,0)")),j.X=c,this.elem.removeEventListener("touchmove",this,!1),this.elem.removeEventListener("touchend",this,!1),"function"==typeof i.extendConfig.touchEndCallback&&i.extendConfig.touchEndCallback()}},position:function(a){var b=this.iW,c=i.extendConfig.partition,d=0;a=Math.abs(a);for(var e=0;e<b.length;e++){var f=d+b[e]+(e==b.length-1?0:c);if(d<a&&a<=f)return a-d<parseInt(b[e]/2)?-d:-f;d+=b[e]+c}return 0},initStyle:function(){this.iW=[],this.child=[],this.totalWidth=0;for(var a=0;a<this.elem.childNodes.length;a++)if(1==this.elem.childNodes[a].nodeType){var b=this.elem.childNodes[a],c=b.offsetWidth;b.style.marginRight=i.extendConfig.partition+"px",this.child.push(b),a&&this.iW[this.iW.length-1]-c==1&&(c=this.iW[this.iW.length-1]),this.iW.push(c),b.style.width=c+"px",this.totalWidth+=parseInt(c)}this.totalWidth=this.totalWidth+(this.child.length-1)*parseInt(i.extendConfig.partition),this.child.length&&(this.child[this.child.length-1].style.marginRight="0px"),this.elem.style.width=this.totalWidth+"px",this.elem.style.minWidth="100%",i.widthArray=this.iW,i.totalWidth=this.totalWidth},init:function(){this.X=0,this.initStyle(),this.conWidth=this.elem.parentNode.offsetWidth;var a=this;a.touch&&a.elem.addEventListener("touchstart",a.events,!1)}};j.init()}a.Hoslider=b}(window),"undefined"!=typeof module?module.exports=window.Hoslider:"function"==typeof define&&define.amd&&define([],function(){"use strict";return window.Hoslider});